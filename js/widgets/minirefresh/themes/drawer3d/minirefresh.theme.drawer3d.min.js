!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MiniRefresh=e()}(this,function(){"use strict";var t=function(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t};function r(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:s(n,e,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0}var e=MiniRefreshTools.theme.defaults,o=MiniRefreshTools.version,n=MiniRefreshTools.extend,i=MiniRefreshTools.namespace,a={down:{offset:100,dampRate:.2,bounceTime:500,successAnim:{isEnable:!1},isWrapCssTranslate:!0}},p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,e),t(c,[{key:"_initDownWrap",value:function(){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_initDownWrap",this).call(this);var t=this.container,e=this.downWrap;e.innerHTML=' \n            <div class="state-3d">\n                <div class="drawer3d">\n                    <div class="downwrap-content">\n                        <p class="downwrap-progress"></p>\n                        <p class="downwrap-tips">'+this.options.down.contentdown+'</p>\n                    </div>\n                    <div class="drawer3d-mask"></div>\n                </div>\n            </div>\n        ',t.classList.add("minirefresh-theme-drawer3d"),this.downWrapProgress=e.querySelector(".downwrap-progress"),this.downWrapTips=e.querySelector(".downwrap-tips"),this.drawer=e.querySelector(".drawer3d"),this.drawerMask=e.querySelector(".drawer3d-mask"),this.downWrapHeight=e.offsetHeight||200,this._transformDownWrap(-this.downWrapHeight),this._resetDrawer()}},{key:"_transformDownWrap",value:function(t,e){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_transformDownWrap",this).call(this,t,e)}},{key:"_transformDrawer",value:function(t,e){var o=0<arguments.length&&void 0!==t?t:0,r="rotateX("+o+"deg) rotateY(0deg)",n=(1<arguments.length&&void 0!==e?e:0)+"ms";this.drawer.style.transform=r,this.drawer.style.webkitTransform=r,this.drawer.style.transitionDuration=n,this.drawer.style.webkitTransitionDuration=n;var i=o/90;this.drawerMask.style.opacity=i,this.drawerMask.style.transitionDuration=n,this.drawerMask.style.webkitTransitionDuration=n}},{key:"_resetDrawer",value:function(){this._transformDrawer(90,this.options.down.bounceTime)}},{key:"_pullHook",value:function(t,e){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_pullHook",this).call(this,t,e);var o=t/e,r=90*(1-Math.min(o,1));this._transformDrawer(r)}},{key:"_downLoaingHook",value:function(){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_downLoaingHook",this).call(this),this._transformDrawer(0,this.options.down.bounceTime)}},{key:"_downLoaingSuccessHook",value:function(t,e){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_downLoaingSuccessHook",this).call(this,t,e)}},{key:"_downLoaingEndHook",value:function(t){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_downLoaingEndHook",this).call(this,t),this._resetDrawer()}},{key:"_cancelLoaingHook",value:function(){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_cancelLoaingHook",this).call(this),this._resetDrawer()}}]),c);function c(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=n(!0,{},a,t);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}return p.sign="drawer3d",p.version=o,i("theme.drawer3d",p),p});