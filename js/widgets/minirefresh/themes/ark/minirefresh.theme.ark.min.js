/*!
 * minirefresh v2.0.2
 * (c) 2017-2021 dailc
 * Released under the MIT License.
 * https://github.com/minirefresh/minirefresh
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.MiniRefresh=t()}(this,function(){"use strict";var n=function(n,t,s){return t&&e(n.prototype,t),s&&e(n,s),n};function e(n,t){for(var s=0;s<t.length;s++){var e=t[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function o(n,t,s){null===n&&(n=Function.prototype);var e=Object.getOwnPropertyDescriptor(n,t);if(void 0!==e){if("value"in e)return e.value;e=e.get;return void 0!==e?e.call(s):void 0}if(null!==(n=Object.getPrototypeOf(n)))return o(n,t,s)}var i=MiniRefreshTools.theme.defaults,t=MiniRefreshTools.version,s=MiniRefreshTools.extend,a=MiniRefreshTools.namespace,r="minirefresh-hardware-speedup",p="status-default",u="status-loading",c={down:{successAnim:{isEnable:!1,duration:300},isAuto:!0,contentdown:"下拉刷新...",contentover:"松手刷新...",contentrefresh:"加载中...",contentsuccess:"成功",contenterror:"加载失败，下拉重试",isWrapCssTranslate:!0,offset:70},up:{isAuto:!1,contentrefresh:"加载中...",contentnomore:"已到底部啦，没有更多内容"}},n=(function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(l,i),n(l,[{key:"_initDownWrap",value:function(){var n=this.container,t=this.contentWrap,s=this.options,e=document.createElement("div");e.className="minirefresh-downwrap "+r,e.innerHTML=' \n        <div class="loadingWrapper">\n            <div class="animation">\n                <span class="loadingSpan"></span>\n                <span class="loadingSpan"></span>\n                <span class="loadingSpan"></span>\n            </div>\n            <div class="success-icon"></div>\n            <div class="fail-icon"></div>\n            <div class="loadingTxt">'+s.down.contentdown+"</div>\n        </div>\n        ",n.insertBefore(e,t),n.classList.add("minirefresh-theme-ark"),this.downWrap=e,this.downWrapTips=this.downWrap.querySelector(".loadingTxt"),this.isCanPullDown=!0,this.downWrapHeight=this.downWrap.offsetHeight||70,this._transformDownWrap(-1*this.downWrapHeight),i._changeWrapStatusClass(this.downWrap,p)}},{key:"_transformDownWrap",value:function(n,t){o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"_transformDownWrap",this).call(this,n,t)}},{key:"_pullHook",value:function(n,t){var s=this.options;n<t?this.isCanPullDown&&(this.isCanPullDown=!1,l._changeWrapStatusClass(this.downWrap,p),this.downWrapTips.innerText=s.down.contentdown):this.isCanPullDown||(this.downWrapTips.innerText=s.down.contentover,this.isCanPullDown=!0,l._changeWrapStatusClass(this.downWrap,"status-pull")),this._transformDownWrap(-this.downWrapHeight+n)}},{key:"_downLoaingHook",value:function(){this._transformDownWrap(-this.downWrapHeight+this.options.down.offset,this.options.down.bounceTime),this.downWrapTips.innerText=this.options.down.contentrefresh,l._changeWrapStatusClass(this.downWrap,u)}},{key:"_downLoaingSuccessHook",value:function(n,t){this.options.down.contentsuccess=t||this.options.down.contentsuccess,this.downWrapTips.innerText=n?this.options.down.contentsuccess:this.options.down.contenterror,l._changeWrapStatusClass(this.downWrap,n?"status-success":"status-error")}},{key:"_downLoaingEndHook",value:function(){this.downWrapTips.innerText=this.options.down.contentdown,this.isCanPullDown=!1,this._transformDownWrap(-this.downWrapHeight,this.options.down.bounceTime),l._changeWrapStatusClass(this.downWrap,p)}},{key:"_initUpWrap",value:function(){var n=this.contentWrap,t=this.options,s=document.createElement("div");s.className="minirefresh-upwrap "+r,s.innerHTML=' \n        <div class="loadingWrapper">\n        <div class="animation">\n            <span class="loadingSpan"></span>\n            <span class="loadingSpan"></span>\n            <span class="loadingSpan"></span>\n        </div>\n        <span class="tobottom"></span>\n        <div class="loadingTxt">'+t.up.contentrefresh+"</div>\n        </div>\n        ",s.style.visibility="hidden",n.appendChild(s),this.upWrap=s,this.upWrapTips=this.upWrap.querySelector(".loadingTxt"),l._changeWrapStatusClass(this.upWrap,p)}},{key:"_upLoaingHook",value:function(n){n?(this.upWrapTips.innerText=this.options.up.contentrefresh,this.upWrap.style.visibility="visible"):this.upWrap.style.visibility="hidden",l._changeWrapStatusClass(this.upWrap,u)}},{key:"_upLoaingEndHook",value:function(n){n?(this.upWrapTips.innerText=this.options.up.contentnomore,l._changeWrapStatusClass(this.upWrap,"status-nomore")):(this.upWrapTips.innerText=this.options.up.contentdown,l._changeWrapStatusClass(this.upWrap,p))}},{key:"_resetUpLoadingHook",value:function(){this.upWrapTips.innerText=this.options.up.contentdown,l._changeWrapStatusClass(this.upWrap,p)}}]),l);function l(n){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);n=s(!0,{},c,n);return function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,n))}return n.sign="ark",n.version=t,a("theme.ark",n),n});