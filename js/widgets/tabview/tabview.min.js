!function(a,t){"use strict";var r={isSwipe:!1,triggerEvent:"tap",activeCls:"",activeIndex:0,itemClick:function(){}};function e(t){var e=this;if(!t)throw new Error("请传入配置项");var i=t.container;1!==i.nodeType&&(i=a.querySelector(i)),(e=Util.extend(e,r,t)).dom=i,e.bodyEle=i.querySelector("[data-role=body]"),e.headEle=i.querySelector("[data-role=head]"),e.headChildEle=e.headEle.querySelectorAll("[data-target]"),e.bodyChildEle=e.bodyEle.querySelectorAll("[data-id]"),e._setBodyStyle(e.bodyEle),e.pageWidth=a.body.offsetWidth,e.activeCls&&e.addActive(e.activeCls,e.activeIndex),e.isSwipe&&e._screenMove(e.itemClick),e._initListeners(i,e.triggerEvent,e.itemClick),e._resize()}e.prototype={addActive:function(t,e){var i=this.dom.querySelectorAll("[data-target]");this.addClass(i[e],t),this._transfrom(this.bodyEle,-(e*this.pageWidth))},_initListeners:function(t,e,n){this.dom;var o=this,i=this.headEle,d=this.bodyEle,l=this.bodyChildEle,c=o.activeCls;i.addEventListener(e,function(t){for(var e=t.target;e&&!e.hasAttribute("data-target");)e=e.parentNode;var i,a=e.dataset.target,r=d.querySelector('[data-id="'+a+'"]'),s=o.index(r,l);c&&(i=o.siblings(e),o.addClass(e,c),o.removeClass(i,c)),o._transfrom(d,-(s*o.pageWidth)),n.call(t.target,t)})},addClass:function(t,e){Array.isArray(t)?t.forEach(function(t){t.classList.add(e)}):t.classList&&t.classList.add(e)},removeClass:function(t,e){Array.isArray(t)?t.forEach(function(t){t.classList.remove(e)}):t.classList.remove(e)},contains:function(t,e){return t.classList.contains(e)},setProperty:function(t,e){var i=e.property,a=e.value;Array.isArray(t)?t.forEach(function(t){t.style[i]=a}):t.style[i]=a},siblings:function(t){var e,i=[];try{e=t.parentNode.children}catch(t){return}for(var a=0,r=e.length;a<r;a++)t!=e[a]&&i.push(e[a]);return i},_screenMove:function(n){this.currentPostion=this.currentPostion||0;var o,d,l=this,t=this.dom,c=this.bodyEle,h=-this.pageWidth*(c.children.length-1),u=0,f=0,v=0,y="left",g=!1;t.addEventListener("touchstart",function(t){var e=t.touches[0];o=e.pageX,d=e.pageY,f=l.currentPostion,c.style.webkitTransition="",v=+new Date,g=!1}),t.addEventListener("touchmove",function(t){var e,i=t.touches[0],a=i.pageX,r=i.pageY,s=a-o,n=r-d;Math.abs(s)>Math.abs(n)&&(t.preventDefault(),(e=f+(u=s))<=0&&h<=e&&(l._transfrom(c,e),g=!0),y=0<s?"right":"left")}),t.addEventListener("touchend",function(t){var e,i=0,a=l.currentPostion,r=new Date-v,s=l.pageWidth;g&&(c.style.webkitTransition=".6s ease transform",i=!(r<300)&&Math.abs(u)/s<.5?a-u:(i=0<(i="left"==y?a-(s+u):a+s-u)?0:i)<h?h:i,l._transfrom(c,i),e=Math.abs(l.currentPostion)/Math.abs(s),l._switchHead(e),n.call(l.headChildEle[e],t))})},_switchHead:function(t){var e=this,i=this.headChildEle[t],a=e.siblings(i);e.addClass(i,e.activeCls),e.removeClass(a,e.activeCls)},_transfrom:function(t,e){t.style.webkitTransform="translate3d("+e+"px,0,0)",this.currentPostion=e},index:function(t,e){for(var i=0,a=e.length;i<a;i++)if(t==e[i])return i},_setBodyStyle:function(t){var e=t.children,i=100*e.length;t.style.cssText="display: flex; width: "+i+"%; overflow: hidden; transform: translate3d(0, 0, 0);";for(var a=0,r=e.length;a<r;a++)e[a].style.width="100%"},_resize:function(){var t=this;window.addEventListener("resize",function(){t.pageWidth=a.body.offsetWidth})}},t.TabView=e}(document,window);